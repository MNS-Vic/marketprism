# MarketPrism 统一环境变量配置模板
# 复制此文件为 .env 并根据环境调整配置值

# ==================== 全局配置 ====================
# 运行环境 (development/staging/production)
ENVIRONMENT=production

# 日志配置
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==================== NATS/JetStream配置 ====================
# 统一NATS连接地址 (优先级最高)
MARKETPRISM_NATS_URL=nats://localhost:4222

# JetStream LSR配置 (所有服务统一)
LSR_DELIVER_POLICY=last
LSR_ACK_POLICY=explicit
LSR_ACK_WAIT=60
LSR_MAX_DELIVER=3
LSR_MAX_ACK_PENDING=2000

# 订单簿消费者特殊配置
ORDERBOOK_MAX_ACK_PENDING=5000

# ==================== 服务端口配置 ====================
# Data Collector
HEALTH_CHECK_PORT=8086
METRICS_PORT=9093

# Storage Service
HOT_STORAGE_HTTP_PORT=18080

# NATS监控端口 (Docker内部)
NATS_HTTP_PORT=8222

# ClickHouse端口 (Docker内部)
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_TCP_PORT=9000

# ==================== ClickHouse配置 ====================
CLICKHOUSE_HOST=localhost
CLICKHOUSE_DATABASE=marketprism_hot
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# ==================== Docker配置 ====================
# 容器网络
DOCKER_NETWORK=marketprism-network

# 数据卷
DATA_VOLUME=./data
LOGS_VOLUME=./logs
CONFIG_VOLUME=./config

# ==================== 开发环境示例 ====================
# 开发环境使用以下配置:
# ENVIRONMENT=development
# LOG_LEVEL=DEBUG
# MARKETPRISM_NATS_URL=nats://localhost:4222
# CLICKHOUSE_HOST=localhost

# ==================== 生产环境示例 ====================
# 生产环境使用以下配置:
# ENVIRONMENT=production
# LOG_LEVEL=WARNING
# MARKETPRISM_NATS_URL=nats://nats:4222
# CLICKHOUSE_HOST=clickhouse-hot

# ==================== 使用说明 ====================
# 1. 复制模板: cp .env.template .env
# 2. 根据环境修改配置值
# 3. 确保所有服务使用相同的LSR配置
# 4. 生产环境建议启用认证和TLS
