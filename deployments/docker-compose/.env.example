# MarketPrism 智能监控告警系统环境配置示例
# 复制此文件为 .env 并根据实际环境修改配置

# =============================================================================
# 基础配置
# =============================================================================

# 环境标识
ENVIRONMENT=production
LOG_LEVEL=INFO
DOMAIN=marketprism.local

# 镜像版本
IMAGE_TAG=latest

# =============================================================================
# 服务端口配置
# =============================================================================

# 监控告警服务
MONITORING_PORT=8082

# 监控仪表板
DASHBOARD_PORT=3000

# 数据库端口
REDIS_PORT=6379
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_TCP_PORT=9000

# 监控服务端口
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268

# Web服务端口
HTTP_PORT=80
HTTPS_PORT=443

# =============================================================================
# 数据库配置
# =============================================================================

# Redis配置
REDIS_PASSWORD=your_redis_password_here

# ClickHouse配置
CLICKHOUSE_DATABASE=marketprism
CLICKHOUSE_USER=marketprism_user
CLICKHOUSE_PASSWORD=your_clickhouse_password_here

# =============================================================================
# 通知配置
# =============================================================================

# 邮件通知配置
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587

# Slack通知配置
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# 钉钉通知配置
DINGTALK_WEBHOOK_URL=https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN
DINGTALK_SECRET=your_dingtalk_secret_here

# =============================================================================
# 安全配置
# =============================================================================

# JWT密钥（请使用强密码）
JWT_SECRET=your_very_secure_jwt_secret_key_here_at_least_32_characters

# API密钥
API_KEY=your_api_key_here

# =============================================================================
# 性能配置
# =============================================================================

# 工作进程数
MAX_WORKERS=10

# 批处理大小
BATCH_SIZE=100

# 缓存大小
CACHE_SIZE=1000

# =============================================================================
# Grafana配置
# =============================================================================

# Grafana管理员账户
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here

# =============================================================================
# SSL/TLS配置
# =============================================================================

# Let's Encrypt邮箱（用于自动SSL证书）
ACME_EMAIL=admin@your-domain.com

# =============================================================================
# 监控配置
# =============================================================================

# Prometheus数据保留时间（天）
PROMETHEUS_RETENTION_DAYS=30

# Grafana插件列表
GRAFANA_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource,grafana-piechart-panel

# =============================================================================
# 备份配置
# =============================================================================

# 备份存储路径
BACKUP_PATH=/backup

# 备份保留天数
BACKUP_RETENTION_DAYS=7

# =============================================================================
# 开发/测试配置
# =============================================================================

# 开发模式（设置为true启用调试功能）
DEBUG_MODE=false

# 测试数据库
TEST_DATABASE=marketprism_test

# 模拟数据生成
GENERATE_MOCK_DATA=false

# =============================================================================
# 扩展配置
# =============================================================================

# 启用分布式追踪
ENABLE_TRACING=true

# 启用性能分析
ENABLE_PROFILING=false

# 启用实验性功能
ENABLE_EXPERIMENTAL_FEATURES=false

# =============================================================================
# 资源限制
# =============================================================================

# 内存限制（MB）
MEMORY_LIMIT=2048

# CPU限制（核心数）
CPU_LIMIT=2

# 磁盘空间限制（GB）
DISK_LIMIT=50

# =============================================================================
# 网络配置
# =============================================================================

# 网络子网
NETWORK_SUBNET=172.20.0.0/16

# DNS服务器
DNS_SERVERS=8.8.8.8,8.8.4.4

# =============================================================================
# 日志配置
# =============================================================================

# 日志格式（json/text）
LOG_FORMAT=json

# 日志轮转大小（MB）
LOG_MAX_SIZE=100

# 日志文件保留数量
LOG_MAX_FILES=10

# =============================================================================
# 健康检查配置
# =============================================================================

# 健康检查间隔（秒）
HEALTH_CHECK_INTERVAL=30

# 健康检查超时（秒）
HEALTH_CHECK_TIMEOUT=10

# 健康检查重试次数
HEALTH_CHECK_RETRIES=3

# =============================================================================
# 集群配置（高可用部署）
# =============================================================================

# 集群模式
CLUSTER_MODE=false

# 节点ID
NODE_ID=node-1

# 集群节点列表
CLUSTER_NODES=node-1:8082,node-2:8082,node-3:8082

# =============================================================================
# 外部服务集成
# =============================================================================

# Kubernetes集成
KUBERNETES_ENABLED=false
KUBERNETES_NAMESPACE=marketprism

# AWS集成
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# 阿里云集成
ALIYUN_REGION=cn-hangzhou
ALIYUN_ACCESS_KEY_ID=your_aliyun_access_key
ALIYUN_ACCESS_KEY_SECRET=your_aliyun_secret_key
