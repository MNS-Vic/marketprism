# MarketPrism æ•°æ®ç»“æ„å®šä¹‰

## ğŸ“‹ æ¦‚è¿°
æœ¬æ–‡æ¡£å®šä¹‰äº†MarketPrismç³»ç»Ÿä¸­æ‰€æœ‰APIæ¥å£ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œç¡®ä¿å‰åç«¯æ•°æ®äº¤äº’çš„ä¸€è‡´æ€§ã€‚

## ğŸ—ï¸ åŸºç¡€æ•°æ®ç±»å‹

### é€šç”¨å“åº”ç»“æ„
```typescript
interface ApiResponse<T> {
  status: 'success' | 'error';
  data?: T;
  error?: {
    code: number;
    message: string;
    details?: string;
  };
  timestamp: number;
}
```

### åˆ†é¡µæ•°æ®ç»“æ„
```typescript
interface PaginatedResponse<T> {
  items: T[];
  total: number;
  page: number;
  size: number;
  hasNext: boolean;
  hasPrev: boolean;
}
```

## ğŸ–¥ï¸ ç³»ç»Ÿç›‘æ§æ•°æ®ç»“æ„

### ç³»ç»Ÿæ¦‚è§ˆæ•°æ®
```typescript
interface SystemOverview {
  cpu_usage: number;        // CPUä½¿ç”¨ç‡ (%)
  memory_usage: number;     // å†…å­˜ä½¿ç”¨ç‡ (%)
  disk_usage: number;       // ç£ç›˜ä½¿ç”¨ç‡ (%)
  network_in: number;       // ç½‘ç»œå…¥æµé‡ (KB/s)
  network_out: number;      // ç½‘ç»œå‡ºæµé‡ (KB/s)
  system_load: number;      // ç³»ç»Ÿè´Ÿè½½
  uptime: number;           // è¿è¡Œæ—¶é—´ (ç§’)
  timestamp: number;        // æ—¶é—´æˆ³
}
```

### æœåŠ¡çŠ¶æ€æ•°æ®
```typescript
interface ServiceStatus {
  name: string;             // æœåŠ¡åç§°
  status: 'running' | 'stopped' | 'error' | 'maintenance';
  port: number;             // æœåŠ¡ç«¯å£
  response_time: number;    // å“åº”æ—¶é—´ (ms)
  cpu_usage: number;        // CPUä½¿ç”¨ç‡ (%)
  memory_usage: number;     // å†…å­˜ä½¿ç”¨ (MB)
  health_score: number;     // å¥åº·è¯„åˆ† (0-100)
  uptime: number;           // è¿è¡Œæ—¶é—´ (ç§’)
  last_restart: number;     // æœ€åé‡å¯æ—¶é—´
  error_count: number;      // é”™è¯¯è®¡æ•°
}
```

### æœåŠ¡åˆ—è¡¨æ•°æ®
```typescript
interface ServicesData {
  services: {
    [serviceName: string]: ServiceStatus;
  };
  summary: {
    total: number;
    running: number;
    stopped: number;
    error: number;
  };
}
```

### å‘Šè­¦æ•°æ®
```typescript
interface Alert {
  id: string;
  level: 'info' | 'warning' | 'error' | 'critical';
  title: string;
  message: string;
  service: string;
  timestamp: number;
  acknowledged: boolean;
  resolved: boolean;
}

interface AlertsData {
  active: Alert[];
  recent: Alert[];
  summary: {
    total: number;
    critical: number;
    error: number;
    warning: number;
    info: number;
  };
}
```

## ğŸ“Š äº¤æ˜“æ•°æ®ç»“æ„

### äº¤æ˜“æ‰€è¿æ¥çŠ¶æ€
```typescript
interface ExchangeStatus {
  name: string;             // äº¤æ˜“æ‰€åç§°
  status: 'connected' | 'disconnected' | 'error' | 'maintenance';
  latency: number;          // å»¶è¿Ÿ (ms)
  pairs_count: number;      // äº¤æ˜“å¯¹æ•°é‡
  update_rate: number;      // æ›´æ–°é¢‘ç‡ (æ¬¡/åˆ†é’Ÿ)
  last_update: number;      // æœ€åæ›´æ–°æ—¶é—´
  api_limits: {
    used: number;
    total: number;
    reset_time: number;
  };
}
```

### äº¤æ˜“æ‰€æ•°æ®æ±‡æ€»
```typescript
interface ExchangesData {
  exchanges: {
    [exchangeName: string]: ExchangeStatus;
  };
  summary: {
    total: number;
    connected: number;
    total_pairs: number;
    avg_latency: number;
  };
}
```

### ä»·æ ¼æ•°æ®
```typescript
interface PriceData {
  symbol: string;           // äº¤æ˜“å¯¹ç¬¦å·
  exchange: string;         // äº¤æ˜“æ‰€åç§°
  price: number;            // å½“å‰ä»·æ ¼
  change_24h: number;       // 24å°æ—¶æ¶¨è·Œå¹… (%)
  volume_24h: number;       // 24å°æ—¶äº¤æ˜“é‡
  high_24h: number;         // 24å°æ—¶æœ€é«˜ä»·
  low_24h: number;          // 24å°æ—¶æœ€ä½ä»·
  open_24h: number;         // 24å°æ—¶å¼€ç›˜ä»·
  timestamp: number;        // æ—¶é—´æˆ³
}
```

### è®¢å•ç°¿æ•°æ®
```typescript
interface OrderBookEntry {
  price: number;            // ä»·æ ¼
  amount: number;           // æ•°é‡
  total: number;            // ç´¯è®¡é‡‘é¢
}

interface OrderBook {
  symbol: string;           // äº¤æ˜“å¯¹
  exchange: string;         // äº¤æ˜“æ‰€
  asks: OrderBookEntry[];   // å–å•
  bids: OrderBookEntry[];   // ä¹°å•
  timestamp: number;        // æ—¶é—´æˆ³
  sequence: number;         // åºåˆ—å·
}
```

### äº¤æ˜“è®°å½•
```typescript
interface TradeRecord {
  id: string;               // äº¤æ˜“ID
  symbol: string;           // äº¤æ˜“å¯¹
  exchange: string;         // äº¤æ˜“æ‰€
  side: 'buy' | 'sell';     // ä¹°å–æ–¹å‘
  price: number;            // æˆäº¤ä»·æ ¼
  amount: number;           // æˆäº¤æ•°é‡
  value: number;            // æˆäº¤é‡‘é¢
  timestamp: number;        // æˆäº¤æ—¶é—´
  fee?: number;             // æ‰‹ç»­è´¹
}
```

### Kçº¿æ•°æ®
```typescript
interface KlineData {
  symbol: string;           // äº¤æ˜“å¯¹
  exchange: string;         // äº¤æ˜“æ‰€
  interval: string;         // æ—¶é—´é—´éš” (1m, 5m, 1h, 1d, etc.)
  open_time: number;        // å¼€ç›˜æ—¶é—´
  close_time: number;       // æ”¶ç›˜æ—¶é—´
  open: number;             // å¼€ç›˜ä»·
  high: number;             // æœ€é«˜ä»·
  low: number;              // æœ€ä½ä»·
  close: number;            // æ”¶ç›˜ä»·
  volume: number;           // äº¤æ˜“é‡
  trade_count: number;      // äº¤æ˜“æ¬¡æ•°
}
```

## ğŸ“ˆ å›¾è¡¨æ•°æ®ç»“æ„

### æ—¶åºæ•°æ®ç‚¹
```typescript
interface TimeSeriesPoint {
  timestamp: number;        // æ—¶é—´æˆ³
  value: number;            // æ•°å€¼
  label?: string;           // æ ‡ç­¾
}

interface TimeSeriesData {
  name: string;             // ç³»åˆ—åç§°
  color?: string;           // é¢œè‰²
  data: TimeSeriesPoint[];  // æ•°æ®ç‚¹
}
```

### å›¾è¡¨é…ç½®
```typescript
interface ChartConfig {
  type: 'line' | 'area' | 'bar' | 'candlestick';
  title: string;
  subtitle?: string;
  xAxis: {
    type: 'time' | 'category';
    label: string;
  };
  yAxis: {
    label: string;
    unit?: string;
    min?: number;
    max?: number;
  };
  series: TimeSeriesData[];
  options?: {
    animation?: boolean;
    zoom?: boolean;
    grid?: boolean;
    tooltip?: boolean;
  };
}
```

## ğŸ”Œ WebSocket æ•°æ®ç»“æ„

### WebSocket æ¶ˆæ¯åŸºç¡€ç»“æ„
```typescript
interface WebSocketMessage {
  type: 'subscribe' | 'unsubscribe' | 'data' | 'error' | 'ping' | 'pong';
  channel: string;
  data?: any;
  timestamp?: number;
}
```

### è®¢é˜…è¯·æ±‚
```typescript
interface SubscribeRequest {
  type: 'subscribe';
  channel: 'prices' | 'orderbook' | 'trades' | 'system' | 'alerts';
  symbol?: string;          // äº¤æ˜“å¯¹ (ä»·æ ¼ã€è®¢å•ç°¿ã€äº¤æ˜“æ•°æ®éœ€è¦)
  exchange?: string;        // äº¤æ˜“æ‰€
  interval?: string;        // æ—¶é—´é—´éš” (Kçº¿æ•°æ®)
}
```

### å®æ—¶ä»·æ ¼æ¨é€
```typescript
interface PriceUpdate {
  type: 'data';
  channel: 'prices';
  data: {
    symbol: string;
    exchange: string;
    price: number;
    change: number;
    volume: number;
    timestamp: number;
  };
}
```

### å®æ—¶è®¢å•ç°¿æ¨é€
```typescript
interface OrderBookUpdate {
  type: 'data';
  channel: 'orderbook';
  data: {
    symbol: string;
    exchange: string;
    asks: OrderBookEntry[];
    bids: OrderBookEntry[];
    timestamp: number;
  };
}
```

## ğŸ” è®¤è¯æ•°æ®ç»“æ„

### APIå¯†é’¥
```typescript
interface ApiCredentials {
  api_key: string;
  api_secret?: string;      // å¦‚æœéœ€è¦ç­¾å
  passphrase?: string;      // æŸäº›äº¤æ˜“æ‰€éœ€è¦
  permissions: string[];    // æƒé™åˆ—è¡¨
  expires_at?: number;      // è¿‡æœŸæ—¶é—´
}
```

### ç”¨æˆ·ä¿¡æ¯
```typescript
interface UserInfo {
  id: string;
  username: string;
  email: string;
  role: 'admin' | 'user' | 'readonly';
  permissions: string[];
  created_at: number;
  last_login: number;
}
```

## âŒ é”™è¯¯æ•°æ®ç»“æ„

### é”™è¯¯å“åº”
```typescript
interface ErrorResponse {
  status: 'error';
  error: {
    code: number;           // é”™è¯¯ç 
    message: string;        // é”™è¯¯æ¶ˆæ¯
    details?: string;       // è¯¦ç»†ä¿¡æ¯
    field?: string;         // é”™è¯¯å­—æ®µ (è¡¨å•éªŒè¯é”™è¯¯)
    trace_id?: string;      // è¿½è¸ªID (ç”¨äºè°ƒè¯•)
  };
  timestamp: number;
}
```

### å¸¸ç”¨é”™è¯¯ç 
```typescript
enum ErrorCode {
  UNAUTHORIZED = 401,
  FORBIDDEN = 403,
  NOT_FOUND = 404,
  VALIDATION_ERROR = 422,
  RATE_LIMITED = 429,
  INTERNAL_ERROR = 500,
  SERVICE_UNAVAILABLE = 503
}
```

## ğŸ¨ UIç»„ä»¶æ•°æ®ç»“æ„

### ä»ªè¡¨æ¿å¡ç‰‡
```typescript
interface DashboardCard {
  id: string;
  title: string;
  subtitle?: string;
  value: number | string;
  unit?: string;
  change?: number;          // å˜åŒ–å€¼
  change_type?: 'increase' | 'decrease' | 'neutral';
  status?: 'success' | 'warning' | 'error';
  icon?: string;
  color?: string;
  chart_data?: TimeSeriesPoint[];
}
```

### çŠ¶æ€æŒ‡ç¤ºå™¨
```typescript
interface StatusIndicator {
  status: 'online' | 'offline' | 'warning' | 'error';
  label: string;
  description?: string;
  color: string;
  pulse?: boolean;          // æ˜¯å¦é—ªçƒ
}
```

### æ•°æ®è¡¨æ ¼åˆ—å®šä¹‰
```typescript
interface TableColumn {
  key: string;
  title: string;
  dataIndex: string;
  width?: number;
  align?: 'left' | 'center' | 'right';
  sortable?: boolean;
  filterable?: boolean;
  render?: (value: any, record: any) => React.ReactNode;
}
```

## ğŸ“± ç§»åŠ¨ç«¯é€‚é…æ•°æ®

### å“åº”å¼æ–­ç‚¹
```typescript
interface BreakPoints {
  xs: number;   // è¶…å°å± < 576px
  sm: number;   // å°å± 576px - 768px
  md: number;   // ä¸­å± 768px - 992px
  lg: number;   // å¤§å± 992px - 1200px
  xl: number;   // è¶…å¤§å± > 1200px
}
```

### ç§»åŠ¨ç«¯é…ç½®
```typescript
interface MobileConfig {
  simplified_layout: boolean;    // ç®€åŒ–å¸ƒå±€
  touch_optimized: boolean;      // è§¦æ‘¸ä¼˜åŒ–
  reduced_animations: boolean;   // å‡å°‘åŠ¨ç”»
  data_compression: boolean;     // æ•°æ®å‹ç¼©
}
```

è¿™äº›æ•°æ®ç»“æ„å®šä¹‰äº†MarketPrismç³»ç»Ÿçš„å®Œæ•´æ•°æ®æ¨¡å‹ï¼Œå‰ç«¯å›¢é˜Ÿå¯ä»¥åŸºäºè¿™äº›å®šä¹‰è¿›è¡ŒTypeScriptç±»å‹å£°æ˜å’Œæ¥å£å¯¹æ¥ã€‚