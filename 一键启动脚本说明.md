# MarketPrism å¾®æœåŠ¡ä¸€é”®å¯åŠ¨è„šæœ¬

## ğŸš€ ä½¿ç”¨æ–¹æ³•

æ¯ä¸ªè„šæœ¬éƒ½æ˜¯**å®Œå…¨è‡ªåŠ¨åŒ–**çš„ä¸€é”®å¯åŠ¨ï¼Œæ— éœ€ç”¨æˆ·äº¤äº’ï¼Œç›´æ¥è¿è¡Œå³å¯ï¼š

```bash
# å¯åŠ¨ API ç½‘å…³æœåŠ¡ (ç«¯å£: 8080)
./start-api-gateway.sh

# å¯åŠ¨æ•°æ®é‡‡é›†æœåŠ¡ (ç«¯å£: 8081)  
./start-data-collector.sh

# å¯åŠ¨æ•°æ®å­˜å‚¨æœåŠ¡ (ç«¯å£: 8082)
./start-data-storage.sh

# å¯åŠ¨ç›‘æ§æœåŠ¡ (ç«¯å£: 8083)
./start-monitoring.sh

# å¯åŠ¨è°ƒåº¦æœåŠ¡ (ç«¯å£: 8084)
./start-scheduler.sh

# å¯åŠ¨æ¶ˆæ¯ä»£ç†æœåŠ¡ (ç«¯å£: 8085)
./start-message-broker.sh
```

## âœ¨ è„šæœ¬ç‰¹æ€§

æ¯ä¸ªè„šæœ¬éƒ½ä¼š**è‡ªåŠ¨å®Œæˆ**ä»¥ä¸‹æ“ä½œï¼š

- âœ… **è‡ªåŠ¨æ£€æµ‹é¡¹ç›®æ ¹ç›®å½•** - æ”¯æŒåœ¨ä»»ä½•ä½ç½®è¿è¡Œ
- âœ… **è‡ªåŠ¨åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒ** - éš”ç¦»ä¾èµ–ï¼Œé¿å…å†²çª
- âœ… **è‡ªåŠ¨å®‰è£…æ‰€éœ€ä¾èµ–** - æ— éœ€æ‰‹åŠ¨pip install
- âœ… **è‡ªåŠ¨æ£€æµ‹ç«¯å£å†²çª** - æ™ºèƒ½åœæ­¢å†²çªè¿›ç¨‹
- âœ… **è‡ªåŠ¨è®¾ç½®ç¯å¢ƒå˜é‡** - é…ç½®PYTHONPATHç­‰
- âœ… **è‡ªåŠ¨åˆ›å»ºå¿…è¦ç›®å½•** - logsã€dataç­‰ç›®å½•
- âœ… **å®æ—¶æ˜¾ç¤ºå¯åŠ¨ä¿¡æ¯** - æ¸…æ™°çš„çŠ¶æ€åé¦ˆ
- âœ… **å®Œå…¨å‰å°è¿è¡Œ** - æŒ‰Ctrl+Cå³å¯åœæ­¢

## ğŸ“Š æœåŠ¡ä¿¡æ¯

| æœåŠ¡ | ç«¯å£ | è„šæœ¬ | ä¸»è¦åŠŸèƒ½ |
|------|------|------|----------|
| API Gateway | 8080 | `start-api-gateway.sh` | ç»Ÿä¸€ç½‘å…³ã€è·¯ç”±ã€è®¤è¯ |
| Data Collector | 8081 | `start-data-collector.sh` | æ•°æ®é‡‡é›†(Binance/OKX/Deribit) |
| Data Storage | 8082 | `start-data-storage.sh` | çƒ­å†·å­˜å‚¨(Redis/ClickHouse) |
| Monitoring | 8083 | `start-monitoring.sh` | ç³»ç»Ÿç›‘æ§ã€å‘Šè­¦ |
| Scheduler | 8084 | `start-scheduler.sh` | ä»»åŠ¡è°ƒåº¦ã€è‡ªåŠ¨åŒ– |
| Message Broker | 8085 | `start-message-broker.sh` | æ¶ˆæ¯é˜Ÿåˆ—(NATS) |

## ğŸŒ è®¿é—®åœ°å€

å¯åŠ¨åå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

```
# å¥åº·æ£€æŸ¥
http://localhost:8080/health  # API Gateway
http://localhost:8081/health  # Data Collector
http://localhost:8082/health  # Data Storage
http://localhost:8083/health  # Monitoring
http://localhost:8084/health  # Scheduler
http://localhost:8085/health  # Message Broker

# åŠŸèƒ½é¡µé¢
http://localhost:8080/_gateway/status     # ç½‘å…³çŠ¶æ€
http://localhost:8081/api/v1/collector/status  # é‡‡é›†çŠ¶æ€
http://localhost:8082/api/v1/storage/status     # å­˜å‚¨çŠ¶æ€
http://localhost:8083/api/v1/overview           # ç›‘æ§æ¦‚è§ˆ
http://localhost:8084/api/v1/scheduler/status   # è°ƒåº¦çŠ¶æ€
http://localhost:8085/api/v1/broker/status      # æ¶ˆæ¯çŠ¶æ€
```

## ğŸ”§ ç¯å¢ƒè¦æ±‚

- **Python 3.8+** - å¿…éœ€
- **æ“ä½œç³»ç»Ÿ** - macOS/Linux/Windows
- **ç½‘ç»œæƒé™** - ç”¨äºä¸‹è½½ä¾èµ–åŒ…
- **ç«¯å£æƒé™** - 8080-8085ç«¯å£

## ğŸš€ ç‹¬ç«‹éƒ¨ç½²

æ¯ä¸ªè„šæœ¬éƒ½å¯ä»¥**ç‹¬ç«‹è¿è¡Œåœ¨ä¸åŒæœåŠ¡å™¨**ä¸Šï¼š

```bash
# æœåŠ¡å™¨ A - è¿è¡Œç½‘å…³
./start-api-gateway.sh

# æœåŠ¡å™¨ B - è¿è¡Œæ•°æ®é‡‡é›†
./start-data-collector.sh

# æœåŠ¡å™¨ C - è¿è¡Œå­˜å‚¨å’Œç›‘æ§
./start-data-storage.sh &
./start-monitoring.sh

# æœåŠ¡å™¨ D - è¿è¡Œè°ƒåº¦å’Œæ¶ˆæ¯
./start-scheduler.sh &
./start-message-broker.sh
```

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### å¼€å‘ç¯å¢ƒ
```bash
# åªå¯åŠ¨éœ€è¦çš„æœåŠ¡
./start-monitoring.sh
```

### æµ‹è¯•ç¯å¢ƒ  
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡è¿›è¡Œé›†æˆæµ‹è¯•
./start-api-gateway.sh &
./start-data-collector.sh &
./start-data-storage.sh &
./start-monitoring.sh &
./start-scheduler.sh &
./start-message-broker.sh &
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# åˆ†æœåŠ¡å™¨éƒ¨ç½²ï¼Œæ¯ä¸ªæœåŠ¡å™¨è¿è¡Œå¯¹åº”è„šæœ¬
./start-api-gateway.sh     # ç½‘å…³æœåŠ¡å™¨
./start-data-collector.sh  # æ•°æ®æœåŠ¡å™¨  
./start-monitoring.sh      # ç›‘æ§æœåŠ¡å™¨
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡è¿è¡Œ**: éœ€è¦ä¸‹è½½ä¾èµ–ï¼Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ
2. **ç«¯å£å†²çª**: è„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ï¼Œä½†ç¡®ä¿ç«¯å£8080-8085å¯ç”¨
3. **ä¾èµ–æœåŠ¡**: æŸäº›åŠŸèƒ½éœ€è¦å¤–éƒ¨æœåŠ¡(ClickHouseã€Redisã€NATS)
4. **åœæ­¢æœåŠ¡**: æŒ‰`Ctrl+C`åœæ­¢ï¼Œæˆ–è€…`pkill -f "æœåŠ¡å"`

## ğŸ” æ•…éšœæ’é™¤

### æƒé™é—®é¢˜
```bash
chmod +x start-*.sh
```

### Pythonç‰ˆæœ¬é—®é¢˜
```bash
python3 --version  # éœ€è¦3.8+
```

### ç«¯å£å ç”¨é—®é¢˜
```bash
lsof -i :8080      # æŸ¥çœ‹ç«¯å£å ç”¨
pkill -f "æœåŠ¡å"   # å¼ºåˆ¶åœæ­¢æœåŠ¡
```

### è™šæ‹Ÿç¯å¢ƒé—®é¢˜
```bash
rm -rf venv        # åˆ é™¤è™šæ‹Ÿç¯å¢ƒ
./start-xxx.sh     # é‡æ–°è¿è¡Œï¼Œä¼šè‡ªåŠ¨åˆ›å»º
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œæ£€æŸ¥ï¼š
1. `logs/` ç›®å½•ä¸­çš„æ—¥å¿—æ–‡ä»¶
2. Pythonç‰ˆæœ¬æ˜¯å¦æ»¡è¶³è¦æ±‚
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
4. ç«¯å£æ˜¯å¦è¢«å ç”¨

---

**âœ¨ çœŸæ­£çš„ä¸€é”®å¯åŠ¨ - è¿è¡Œè„šæœ¬ï¼ŒæœåŠ¡å³å¯åŠ¨ï¼**